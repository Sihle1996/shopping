<app-admin-notifications></app-admin-notifications>
<div class="p-4">
  <div class="flex gap-2 mb-4">
    <input type="date" [(ngModel)]="startDate" (change)="loadAnalytics()" class="border p-2 rounded" />
    <input type="date" [(ngModel)]="endDate" (change)="loadAnalytics()" class="border p-2 rounded" />
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="bg-white p-4 shadow rounded">
      <canvas id="salesChart"></canvas>
    </div>
    <div class="bg-white p-4 shadow rounded">
      <canvas id="productsChart"></canvas>
<div class="min-h-screen bg-gray-100 p-4">
    <div class="max-w-5xl mx-auto">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">📊 Admin Dashboard</h2>
  
      <!-- Stats Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-6">
        <div class="bg-white p-4 rounded-lg shadow-md">
          <p class="text-gray-600 text-sm">Total Orders</p>
          <p class="text-2xl font-bold text-gray-800 mt-1">{{ totalOrders }}</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md">
          <p class="text-gray-600 text-sm">Total Revenue</p>
          <p class="text-2xl font-bold text-green-600 mt-1">R{{ totalRevenue.toFixed(2) }}</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md">
          <p class="text-gray-600 text-sm">Pending Orders</p>
          <p class="text-2xl font-bold text-orange-500 mt-1">{{ pendingOrders }}</p>
        </div>
      </div>
  
      <!-- Quick Links -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <a routerLink="/admin/orders" class="block bg-red-600 text-white p-4 rounded-lg shadow text-center hover:bg-red-700 transition">
          🔍 Manage Orders
        </a>
        <a routerLink="/admin/menu" class="block bg-gray-700 text-white p-4 rounded-lg shadow text-center hover:bg-gray-800 transition">
          🍔 Manage Menu
        </a>
        <a routerLink="/admin/drivers" class="block bg-blue-600 text-white p-4 rounded-lg shadow text-center hover:bg-blue-700 transition">
          🚚 Manage Drivers
        </a>
        <a routerLink="/admin/inventory" class="block bg-purple-600 text-white p-4 rounded-lg shadow text-center hover:bg-purple-700 transition">
          📦 Inventory
        </a>
      </div>
    </div>
  </div>

  <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="bg-white p-4 shadow rounded">Average Order Value: {{ aov | number:'1.2-2' }}</div>
    <div class="bg-white p-4 shadow rounded">On-time %: {{ onTime | number:'1.0-0' }}%</div>
    <div class="bg-white p-4 shadow rounded">Cancellations: {{ cancellations | number:'1.0-0' }}%</div>
  </div>

  <div class="mt-6">
    <h3 class="font-semibold mb-2">Top Products</h3>
    <table class="min-w-full bg-white shadow rounded">
      <thead>
        <tr class="text-left">
          <th class="p-2">Product</th>
          <th class="p-2">Quantity</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of topProducts" class="border-t">
          <td class="p-2">{{ p.name }}</td>
          <td class="p-2">{{ p.quantity }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
