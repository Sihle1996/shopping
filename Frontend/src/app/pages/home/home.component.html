<!-- Add Button -->
<div *ngIf="isAdmin" class="p-4">
  <button (click)="toggleForm()" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
    {{ showForm ? 'Cancel' : 'âž• Add Menu Item' }}
  </button>
</div>

<!-- Form -->
<div *ngIf="showForm && isAdmin" class="p-4 bg-white rounded shadow-md mb-6">
  <form (ngSubmit)="submitForm()" class="grid gap-4">
    <input [(ngModel)]="formData.name" name="name" placeholder="Name" required class="form-input" />
    <input [(ngModel)]="formData.description" name="description" placeholder="Description" class="form-input" />
    <input type="number" [(ngModel)]="formData.price" name="price" placeholder="Price" class="form-input" required />
    <input [(ngModel)]="formData.category" name="category" placeholder="Category" class="form-input" required />
    <input [(ngModel)]="formData.image" name="image" placeholder="Image URL" class="form-input" />
    <button type="submit" class="bg-green-600 text-white py-2 rounded hover:bg-green-700">
      {{ isEditing ? 'Update' : 'Add' }} Item
    </button>
  </form>
</div>

<!-- Menu Items -->
<div class="grid grid-cols-1 gap-4 p-4">
  <div *ngFor="let item of filteredMenuItems" class="bg-white p-4 rounded shadow flex justify-between items-center">
    <div>
      <h4 class="text-lg font-semibold">{{ item.name }}</h4>
      <p class="text-sm text-gray-600">{{ item.description }}</p>
      <p class="text-sm text-gray-500">Category: {{ item.category }}</p>
      <p class="text-red-600 font-bold">R{{ item.price.toFixed(2) }}</p>
    </div>
    <!-- Admin controls -->
    <div *ngIf="isAdmin" class="space-x-2">
      <button (click)="editItem(item)" class="text-blue-600 hover:underline">Edit</button>
      <button (click)="deleteItem(item.id)" class="text-red-600 hover:underline">Delete</button>
    </div>
  </div>
</div>
